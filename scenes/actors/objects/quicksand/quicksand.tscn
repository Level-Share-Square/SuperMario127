[gd_scene load_steps=18 format=2]

[ext_resource path="res://scenes/actors/objects/liquid/liquid_base.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/actors/objects/quicksand/quicksand.gd" type="Script" id=2]
[ext_resource path="res://scenes/actors/objects/quicksand/quicksand_shader.tres" type="Shader" id=3]
[ext_resource path="res://scenes/actors/objects/quicksand/grayscale.png" type="Texture" id=4]
[ext_resource path="res://scenes/actors/objects/quicksand/quicksand_waves_shader.tres" type="Shader" id=5]
[ext_resource path="res://scenes/actors/objects/quicksand/grain_noise.png" type="Texture" id=6]
[ext_resource path="res://scenes/actors/mario/particles/dust.png" type="Texture" id=7]

[sub_resource type="RectangleShape2D" id=1]
resource_local_to_scene = true
extents = Vector2( 900, 300 )

[sub_resource type="OpenSimplexNoise" id=7]
seed = 3
period = 39.6
persistence = 0.651
lacunarity = 4.0

[sub_resource type="NoiseTexture" id=8]
flags = 3
width = 128
height = 128
seamless = true
noise = SubResource( 7 )
noise_offset = Vector2( 256, 256 )

[sub_resource type="ShaderMaterial" id=2]
resource_local_to_scene = true
shader = ExtResource( 3 )
shader_param/color = Color( 1, 0.584314, 0, 1 )
shader_param/noise_scale_1 = Vector2( 3.516, 1.172 )
shader_param/noise_speed_1 = Vector2( -0.012, 0 )
shader_param/noise_scale_2 = Vector2( 56.25, 18.75 )
shader_param/noise_speed_2 = Vector2( 0, -0.25 )
shader_param/noise_scale_3 = Vector2( 14.063, 4.688 )
shader_param/noise_speed_3 = Vector2( 0.1, -0.1 )
shader_param/noise_texture_1 = ExtResource( 6 )
shader_param/noise_texture_2 = ExtResource( 4 )
shader_param/noise_texture_3 = SubResource( 8 )

[sub_resource type="ShaderMaterial" id=9]
resource_local_to_scene = true
shader = ExtResource( 5 )
shader_param/color = Color( 1, 0.584314, 0, 1 )
shader_param/noise_scale_1 = Vector2( 3.516, 0.063 )
shader_param/noise_offset_1 = Vector2( 0, 0.75 )
shader_param/noise_speed_1 = Vector2( -0.012, 0 )
shader_param/noise_scale_2 = Vector2( 56.25, 1 )
shader_param/noise_offset_2 = Vector2( 0, 16 )
shader_param/noise_speed_2 = Vector2( 0, -0.25 )
shader_param/noise_scale_3 = Vector2( 14.063, 0.25 )
shader_param/noise_offset_3 = Vector2( 0, 16 )
shader_param/noise_speed_3 = Vector2( 0.1, -0.1 )
shader_param/x_size = 1800.0
shader_param/noise_texture_1 = ExtResource( 6 )
shader_param/noise_texture_2 = ExtResource( 4 )
shader_param/noise_texture_3 = SubResource( 8 )

[sub_resource type="CanvasItemMaterial" id=10]
blend_mode = 2

[sub_resource type="Gradient" id=11]
resource_local_to_scene = true
colors = PoolColorArray( 0, 0, 0, 1, 0.203125, 0.203125, 0.203125, 1 )

[sub_resource type="GradientTexture2D" id=12]
resource_local_to_scene = true
flags = 3
gradient = SubResource( 11 )
width = 192
height = 192
fill_to = Vector2( 0, 0.204167 )

[sub_resource type="CanvasItemMaterial" id=33]
particles_animation = true
particles_anim_h_frames = 10
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="ParticlesMaterial" id=14]
emission_shape = 2
emission_box_extents = Vector3( 900, 300, 1 )
flag_disable_z = true
gravity = Vector3( 0, 0, 0 )
orbit_velocity = 0.0
orbit_velocity_random = 0.0
color = Color( 0.137255, 0.137255, 0.137255, 0.172549 )

[node name="Quicksand" instance=ExtResource( 1 )]
script = ExtResource( 2 )
liquid_type = 2
color = Color( 1, 0.584314, 0, 1 )

[node name="LiquidArea" parent="." index="0"]
collision_layer = 32768
collision_mask = 6

[node name="CollisionShape2D" parent="LiquidArea" index="0"]
shape = SubResource( 1 )

[node name="Body" type="ColorRect" parent="." index="1"]
material = SubResource( 2 )
margin_top = 8.0
margin_right = 1800.0
margin_bottom = 608.0
rect_pivot_offset = Vector2( 77, 71 )
mouse_filter = 2
color = Color( 1, 0.584314, 0, 1 )

[node name="Waves" type="ColorRect" parent="." index="2"]
material = SubResource( 9 )
margin_top = -8.0
margin_right = 1800.0
margin_bottom = 24.0
mouse_filter = 2
color = Color( 1, 0.584314, 0, 1 )

[node name="ThresholdGradient" type="TextureRect" parent="." index="3"]
material = SubResource( 10 )
margin_top = 8.0
margin_right = 1800.0
margin_bottom = 608.0
mouse_filter = 2
texture = SubResource( 12 )
expand = true

[node name="Bubbles" type="Particles2D" parent="." index="4"]
material = SubResource( 33 )
position = Vector2( 900, 300 )
amount = 200
lifetime = 2.0
process_material = SubResource( 14 )
texture = ExtResource( 7 )
